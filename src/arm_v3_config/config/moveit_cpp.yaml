# ============================================================
# MoveIt CPP Configuration (Complete)
# ============================================================

planning_scene_monitor_options:
  name: "planning_scene_monitor"
  robot_description: "robot_description"
  joint_state_topic: "/joint_states"
  attached_collision_object_topic: "/attached_collision_object"
  publish_planning_scene_topic: "/publish_planning_scene"
  monitored_planning_scene_topic: "/monitored_planning_scene"
  wait_for_initial_state_timeout: 10.0

# ============================================================
# Planning Pipelines
# ============================================================
planning_pipelines:
  pipeline_names: ["ompl"]

# ============================================================
# OMPL Planning Pipeline Configuration
# ============================================================
ompl:
  # Planning plugin
  planning_plugin: ompl_interface/OMPLPlanner
  
  # üî• Request Adapters (ÏàúÏÑú Ï§ëÏöî!)
  request_adapters: >-
    default_planner_request_adapters/AddTimeOptimalParameterization
    default_planner_request_adapters/ResolveConstraintFrames
    default_planner_request_adapters/FixWorkspaceBounds
    default_planner_request_adapters/FixStartStateBounds
    default_planner_request_adapters/FixStartStateCollision
    default_planner_request_adapters/FixStartStatePathConstraints
  
  # Time Optimal Parameterization Settings
  path_tolerance: 0.1
  resample_dt: 0.1
  min_angle_change: 0.001
  
  # Workspace Bounds
  default_workspace_bounds: 10.0
  
  # Start State Validation
  start_state_max_bounds_error: 0.1
  start_state_max_dt: 0.5
  
  # Collision Avoidance
  jiggle_fraction: 0.05
  max_sampling_attempts: 200

# ============================================================
# Planning Group Configuration (arm)
# ============================================================
arm:
  # Planner configurations
  planner_configs:
    - RRTConnectkConfigDefault
    - RRTstarkConfigDefault
  
  default_planner_config: RRTConnectkConfigDefault
  
  # Projection evaluator (Ï£ºÏÑù Ï≤òÎ¶¨ - ÏóêÎü¨ Î∞©ÏßÄ)
  # projection_evaluator: joints(Joint1,Joint2)
  
  longest_valid_segment_fraction: 0.01
  enforce_constrained_state_space: false

# ============================================================
# Planner Configurations
# ============================================================
planner_configs:
  RRTConnectkConfigDefault:
    type: geometric::RRTConnect
    range: 0.0
  
  RRTstarkConfigDefault:
    type: geometric::RRTstar
    range: 0.0
    goal_bias: 0.05
    delay_collision_checking: 1

# ============================================================
# Plan Request Parameters
# ============================================================
plan_request_params:
  planning_attempts: 1
  planning_time: 5.0  # 1.0 ‚Üí 5.0 (Îçî ÎÑâÎÑâÌïòÍ≤å)
  max_velocity_scaling_factor: 0.5  # 0.1 ‚Üí 0.5 (Îçî Îπ†Î•¥Í≤å)
  max_acceleration_scaling_factor: 0.5  # 0.1 ‚Üí 0.5